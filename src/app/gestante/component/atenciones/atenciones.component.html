<div class="p-card">
    <p-toolbar styleClass="p-mb-4">

        <ng-template pTemplate="left">
            <h3 class="p-m-0">ATENCIONES GESTACIONALES</h3>
        </ng-template>

        <ng-template pTemplate="right" class="button">

            <button pButton pRipple label="Grafico" icon="pi pi-file-o" icon="pi pi-chart-line" class="button-graficar p-mr-2" (click)="graficar()"
            ></button>
            <button pButton pRipple label="Agregar Atención" icon="pi pi-plus" class="button-agregar"
                    (click)="openNew()"></button>
        </ng-template>
    </p-toolbar>
    <p-table [value]="data" #dt styleClass="p-datatable-gridlines" [rows]="10" [rowsPerPageOptions]="[10, 25, 50]"
             [paginator]="true" [autoLayout]="true" [showCurrentPageReport]="true"
             currentPageReportTemplate="Mostrando {first} de {last} de {totalRecords} entradas">

        <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
            <tr>
                <th style="text-align: center">ATENCION PRENATAL</th>
                <th style="text-align: center">Fecha Atención</th>
                <th style="text-align: center">Edad Gest.(Semanas)</th>
                <th style="text-align: center">Peso Madre (Kg)</th>
                <th style="text-align: center">Eval. Nutricional</th>
                <th style="text-align: center">Temperatura(°C)</th>
                <th style="text-align: center">Presion Arterial(mm. Hg)</th>
                <th style="text-align: center">Pulso Materno(por min)</th>
                <th style="text-align: center">Altura Uterina(cm)</th>
                <th style="text-align: center">Situación(L/T/NA)</th>
                <th style="text-align: center">Presentación(C/P/NA)</th>
                <th style="text-align: center">Posición(D/I/NA)</th>
                <th style="text-align: center">F.C.F. (por  min/NA)</th>
                <th style="text-align: center">Mov. Fetal(+/++/+++/SM/NA)</th>
                <th style="text-align: center">Proteinuria Cualitativa (+/++/+++/NSH)</th>
                <th style="text-align: center">Edema (+/++/+++/SE)</th>
                <th style="text-align: center">Reflejo Osteotendinoso</th>
                <th style="text-align: center">Ecografía E.G. (Fecha)</th>
                <th style="text-align: center">Consejería Integral</th>
                <th style="text-align: center">Indic. Ac. Fólico</th>
                <th style="text-align: center">Indic. Fierro/Ac. Fólico(>=14 sem)</th>
                <th style="text-align: center">Indic. Calcio</th>
                <th style="text-align: center">Interconsultas</th>
                <th style="text-align: center">Plan de Parto (Reenfocada)</th>
                <th style="text-align: center">Visita Domiciliaria</th>
                <th style="text-align: center">Próxima Cita</th>
                <th style="text-align: center">Responsable de atención</th>
                <th style="text-align: center">Establec. de atención</th>
                <th style="text-align: center">Acción</th>

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
            <tr>
                <td style="text-align: center">ATENCION {{ rowIndex + 1 }}</td>
                <td style="text-align: center">{{ rowData.fechaAtencion }}</td>
                <td style="text-align: center">{{ rowData.edadGestacional }}</td>
                <td style="text-align: center">{{ rowData.pesoMadre}}</td>
                <td style="text-align: center">{{ rowData.evalNutricional}}</td>
                <td style="text-align: center">{{ rowData.temperatura}}</td>
                <td style="text-align: center">{{ rowData.presionArterial}}</td>
                <td style="text-align: center">{{ rowData.pulsoMaterno}}</td>
                <td style="text-align: center">{{ rowData.alturaUterinal}}</td>
                <td style="text-align: center">{{ valorTipoSituacion(rowData.situacion)}}</td>
                <td style="text-align: center">{{ valorTipoPresentacion(rowData.presentacion)}}</td>
                <td style="text-align: center">{{ valorTipoPosicion(rowData.posicion)}}</td>
                <td style="text-align: center">{{ rowData.fcf}}</td>
                <td style="text-align: center">{{ valorTipomovFetal(rowData.movFetal)}}</td>
                <td style="text-align: center">{{ valorproteiCualitativa(rowData.proteinaCualitativa)}}</td>
                <td style="text-align: center">{{ valorEdema(rowData.edema)}}</td>
                <td style="text-align: center">{{ valorReflejoO(rowData.reflejoOsteotendinoso)}}</td>
                <td style="text-align: center">{{ rowData.fechaEcografia}}</td>
                <td style="text-align: center">{{ rowData.consejeriaIntegral}}</td>
                <td style="text-align: center">{{ rowData.indAcidoFolico}}</td>
                <td style="text-align: center">{{ rowData.indFierro}}</td>
                <td style="text-align: center">{{ rowData.indCalcio}}</td>
                <td style="text-align: center">{{ valorInterconsultas(rowData.interconsulta)}}</td>
                <td style="text-align: center">{{ valorInterconsultas(rowData.planParto)}}</td>
                <td style="text-align: center">{{ valorVisitaDomiciliaria(rowData.visitaDomiciliaria)}}</td>
                <td style="text-align: center">{{ rowData.proximaCita}}</td>
                <td style="text-align: center">{{ rowData.responsableAtencion}}</td>
                <td style="text-align: center">{{ rowData.establecimientoAtencion}}</td>

                <td style="text-align: center">
                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-primary m-1"
                            (click)="editar(rowData)" pTooltip="Editar">
                    </button>

                </td>
            </tr>
        </ng-template>
    </p-table>



<!--<ng-template class="body">-->
<!--    <p-fieldset legend="Atencion 1" [toggleable]="true">-->

<!--        <div class="p-field col-3">-->
<!--            <label>FECHA DE ATENCION:</label>-->
<!--            <input type="date" pInputText >-->
<!--        </div>-->

<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>EDAD GESTACIONAL (Semanas)</label>-->
<!--                <input type="number" pInputText  placeholder="semanas" />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>PESO MADRE</label>-->
<!--                <input type="decimal" pInputText  placeholder="kg"  />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>EVALUACION NUTRICIONAL</label>-->
<!--                <input type="text" pInputText  placeholder="evaluacion"  />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>TEMPERATURA (°C) </label>-->
<!--                <input type="decimal" pInputText  placeholder="°C" />-->
<!--            </div>-->

<!--        </div>-->

<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>PRESION ARTERIAL(cm)</label>-->
<!--                <input type="text" pInputText  placeholder="cm"/>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>PULSO MATERNO(cm)</label>-->
<!--                <input type="text" pInputText  placeholder="cm"  />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>ALTURA UTERINAL(cm)</label>-->
<!--                <input type="decimal" pInputText  placeholder="cm"  />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>SITUACION</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="situacionList"  placeholder="seleccionar" optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->

<!--        </div>-->

<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>PRESENTACION</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="presentacionList"  placeholder="seleccionar" optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>POSICION FETAL</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="posicionList" placeholder="seleccionar"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>FCF</label>-->
<!--                <input type="text" pInputText  placeholder="por min."/>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>MOVIMIENTO FETAL</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="movFetalList"  optionLabel="label" optionValue="value"-->
<!--                                placeholder="seleccionar"   defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->

<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>PROTEINA CUALITATIVA</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="protcualitList"  optionLabel="label" optionValue="value"-->
<!--                                placeholder="seleccionar"  defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>EDEMA</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="edemaList"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:"  placeholder="seleccionar"  >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>REFLEJO OSTEOTENDINOSO</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="reflejoOsteotendinosoList"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:"  placeholder="seleccionar"  >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>FECHA ECOGRAFIA</label>-->
<!--                <input type="date" pInputText >-->
<!--            </div>-->

<!--        </div>-->
<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>CONSEJERIA INTEGRAL</label>-->
<!--                <input type="text" pInputText   placeholder="consejeria"  />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>INDICADOR DE ACIDO FOLICO</label>-->
<!--                <input type="text" pInputText  placeholder="Ind. Ac. Fólico"  required />-->
<!--            </div>-->

<!--            <div class="p-field col-3">-->
<!--                <label>INDICADOR FIERRO</label>-->
<!--                <input type="text" pInputText   placeholder="Indide Fierro"  required />-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>INDICADOR CALCIO</label>-->
<!--                <input type="text" pInputText  placeholder="Indide Calcio"  />-->
<!--            </div>-->

<!--        </div>-->

<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                <label>INTERCONSULTA</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="interconsultaList"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" placeholder="seleccionar">-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>PLAN PARTO</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="planPartoList"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" placeholder="seleccionar">-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>VISITA DOMICILIARIA</label>-->
<!--                <div class="p-field">-->
<!--                    <p-dropdown inputId="dropdown" [options]="visitaDomiciliariaList"  optionLabel="label" optionValue="value"-->
<!--                                defaultLabel="Seleccione:" >-->
<!--                    </p-dropdown>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-field col-3">-->
<!--                <label>PROXIMA CITA</label>-->
<!--                <input type="date" pInputText />-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="grid mt-1">-->
<!--            <div class="p-field col-3">-->
<!--                    <label>RESPONSABLE ATENCION</label>-->
<!--                    <input type="text" pInputText placeholder="Responsable"/>-->
<!--                </div>-->
<!--            <div class="p-field col-3">-->
<!--                    <label>ESTABLECIMIENTO ATENCION</label>-->
<!--                    <input type="text" pInputText placeholder="Establecimiento" />-->
<!--                </div>-->

<!--        </div>-->
<!--            <div class="right">-->
<!--                    <button pButton  pTooltip="Editar" pRipple type="button"-->
<!--                            icon="pi pi-pencil" class="p-button-rounded m-1" label="Editar">-->
<!--                    </button>-->

<!--                    <button pButton  pTooltip="Eliminar" pRipple-->
<!--                            type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger m-1" label="Eliminar">-->
<!--                     </button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </p-fieldset>-->

<!--    <p-fieldset legend="Atencion 2" [toggleable]="true">-->
<!--        Content-->
<!--    </p-fieldset>-->
<!--    <p-fieldset legend="Atencion 3" [toggleable]="true">-->

<!--    </p-fieldset>-->

<!--</ng-template>-->
</div>
<!-- INICIO DE DIALOG AGREGAR ATENCION -->

<p-dialog [(visible)]="atencionGestanteDialog" header={{titulo()}}
          [modal]="true" styleClass="p-fluid"  >

        <form [formGroup]='form' (ngSubmit)="save(formTemplate)" #formTemplate ="ngForm" class="form-register" >

                        <div class="p-field col-6">
                            <label>FECHA DE ATENCION:</label>
                            <input type="date" pInputText formControlName="fechaAtencion" required="" format="dd/mm/aaaa">
                        </div>

                <div class="grid mt-1 " >
                    <div class="p-field col-3">
                        <label>EDAD GESTACIONAL(Semanas)</label>
                        <input type="number" pInputText formControlName='edadGestacional' placeholder="semanas" required />
                    </div>
                    <div class="p-field col-3">
                        <label>PESO MADRE</label>
                        <input type="decimal" pInputText formControlName='pesoMadre' placeholder="kg" required />
                    </div>
                    <div class="p-field col-2">
                        <label>EVALUACION NUTRICIONAL</label>
                        <input type="text" pInputText formControlName='evalNutricional' placeholder="evaluacion" required />
                    </div>
                    <div class="p-field col-2">
                        <label>TEMPERATURA(°C) </label>
                        <input type="decimal" pInputText formControlName='temperatura' placeholder="°C" required />
                    </div>
                    <div class="p-field col-2">
                        <label>PRESION ARTERIAL</label>
                        <input type="text" pInputText formControlName='presionArterial' placeholder="cm" required />
                    </div>
                </div>
                <div class="grid mt-1" >
                    <div class="p-field col-3">
                        <label>PULSO MATERNO(cm)</label>
                        <input type="text" pInputText formControlName='pulsoMaterno' placeholder="cm" required />
                    </div>
                    <div class="p-field col-3">
                        <label>ALTURA UTERINAL(cm)</label>
                        <input type="decimal" pInputText formControlName='alturaUterinal' placeholder="cm" required />
                    </div>
                    <div class="p-field col-2">
                        <label>SITUACION</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="situacionList" formControlName="situacion" placeholder="seleccionar" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-2">
                        <label>PRESENTACION</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="presentacionList" formControlName="presentacion" placeholder="seleccionar" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-2">
                        <label>POSICION FETAL</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="posicionList" formControlName="posicion" placeholder="seleccionar"  optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                </div>

                <div class="grid mt-1" >
                    <div class="p-field col-3">
                        <label>FCF</label>
                        <input type="text" pInputText formControlName='fcf'  placeholder="por min." required  />
                    </div>
                    <div class="p-field col-3">
                        <label>MOVIMIENTO FETAL</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="movFetalList" formControlName="movFetal" optionLabel="label" optionValue="value"
                                        placeholder="seleccionar"   defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-3">
                        <label>PROTEINURIA CUALITATIVA</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="protcualitList" formControlName="proteinaCualitativa" optionLabel="label" optionValue="value"
                                        placeholder="seleccionar"  defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-3">
                        <label>EDEMA</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="edemaList" formControlName="edema" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:"  placeholder="seleccionar"  >
                            </p-dropdown>
                        </div>
                    </div>
                </div>

                <div class="grid mt-1" >


                    <div class="p-field col-3">
                        <label>REFLEJO OSTEOTENDINOSO</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="reflejoOsteotendinosoList" formControlName="reflejoOsteotendinoso" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:"  placeholder="seleccionar"  >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-3">
                        <label>FECHA ECOGRAFIA</label>
                        <input type="date" pInputText formControlName="fechaEcografia" format="dd/mm/aaaa" required="">
                    </div>
                    <div class="p-field col-3">
                        <label>CONSEJERIA INTEGRAL</label>
                        <input type="text" pInputText formControlName='consejeriaIntegral'  placeholder="consejeria"  required />
                    </div>
                    <div class="p-field col-3">
                        <label>INDICADOR DE ACIDO FOLICO</label>
                        <input type="text" pInputText formControlName='indAcidoFolico'  placeholder="Ind. Ac. Fólico"  required />
                    </div>
                </div>

                <div class="grid mt-1">
                    <div class="p-field col-3">
                        <label>INDICADOR FIERRO</label>
                        <input type="text" pInputText formControlName='indFierro'  placeholder="Indide Fierro"  required />
                    </div>
                    <div class="p-field col-3">
                        <label>INDICADOR CALCIO</label>
                        <input type="text" pInputText formControlName='indCalcio' placeholder="Indide Calcio" required />
                    </div>
                    <div class="p-field col-3">
                        <label>INTERCONSULTA</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="interconsultaList" formControlName="interconsulta" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" placeholder="seleccionar">
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-3">
                        <label>PLAN PARTO</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="planPartoList" formControlName="planParto" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" placeholder="seleccionar">
                            </p-dropdown>
                        </div>
                    </div>
                </div>

                <div class="grid mt-1">
                    <div class="p-field col-3">
                        <label>VISITA DOMICILIARIA</label>
                        <div class="p-field">
                            <p-dropdown inputId="dropdown" [options]="visitaDomiciliariaList" formControlName="visitaDomiciliaria" optionLabel="label" optionValue="value"
                                        defaultLabel="Seleccione:" >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="p-field col-3">
                    <label>PROXIMA CITA</label>
                    <input type="date" pInputText formControlName="proximaCita" format="dd/mm/aaaa" required="">
                </div>
                <div class="p-field col-3">
                    <label>RESPONSABLE ATENCION</label>
                    <input type="text" pInputText formControlName='responsableAtencion' required />
                </div>
                <div class="p-field col-3">
                    <label>ESTABLECIMIENTO ATENCION</label>
                    <input type="text" pInputText formControlName='establecimientoAtencion' required />
                </div>
                </div>

        </form>
    <br>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Cancelar" class="button-cancelar" icon="pi pi-times"(click)="canceled()"></button>
        <button *ngIf="!isUpdate" [disabled]="!form.valid"  class="button-agregar" icon="pi pi-save" pButton type="button" label="Guardar" (click)="save(formTemplate)" ></button>
<!--        <button *ngIf="isUpdate" [disabled]="!form.valid" pButton type="button" label="Guardar" (click)="editarDatos()" ></button>-->
    </ng-template>

</p-dialog>
<!-- FIN DE DIALOG AGREGAR ATENCION -->
