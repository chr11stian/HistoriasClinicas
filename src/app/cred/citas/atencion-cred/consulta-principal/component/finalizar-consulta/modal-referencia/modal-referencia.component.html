<form [formGroup]='formReferencia'>
    <p-fieldset legend="Datos Generales" [toggleable]="true">
        <div class="col flex">
            <div class="col-4 flex">
                <div class="col-8">
                    <div class="col-12">
                        <span>Fecha de Atención:</span>
                    </div>
                    <div class="col-12">
                        <p-calendar [showIcon]="true" inputId="icon" placeholder="Fecha"
                                    dateFormat="yy-mm-dd" formControlName="fecha"
                        ></p-calendar>
                    </div>
                </div>
                <div class="col-4">
                    <div class="col-12">
                        <span>Hora:</span>
                    </div>
                    <div class="col-12">
                        <p-calendar [timeOnly]="true"
                                    formControlName="hour"
                                    inputId="timeonly">
                        </p-calendar>
                    </div>
                </div>
            </div>
            <div class="col-8 align-items-center justify-content-center">
                <div class="flex align-items-center justify-content-center" style="padding:0;margin: 0">
                    <span>Asegurado:</span>
                    <div class="col-2">
                        <p-selectButton [options]="stateOptions"
                                        class="inputfield w-full"
                                        optionLabel="label"
                                        formControlName="presentSigns"
                                        optionValue="value">
                        </p-selectButton>
                    </div>
                </div>
                <div class="col-12 align-items-center justify-content-center flex" style="padding:0;margin: 0">
                    <span>TIPO: </span>
                    <div class="col-3 flex align-items-center">
                        <span>SUBSIDIADO</span>
                        <div class="col-3">
                            <p-radioButton formControlName="subsidiado" value="SUBSIDIADO"></p-radioButton>
                        </div>
                    </div>
                    <div class="col-3 flex align-items-center">
                        <span>SEMI-SUBSIDIADO</span>
                        <div class="col-3">
                            <p-radioButton formControlName="semisubsidiado" value="SEMI-SUBSIDIADO"></p-radioButton>
                        </div>
                    </div>
                    <div class="col-3 flex align-items-center">
                        <span>OTROS :</span>
                        <div class="col-3">
                            <input formControlName="otros" pInputText type="text" placeholder="Otros">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="flex col-12 align-items-center justify-content-left" style="padding:0; margin: 0">
                <div class="col-4">
                    <span>Establecimiento de Origen de la Referencia: </span>
                </div>
                <div class="col-8">
                    <input class="w-full" formControlName="origen" type="text" pInputText placeholder="Origen">
                </div>
            </div>
            <div class="flex col-12 align-items-center justify-content-left" style="padding:0; margin: 0">
                <div class="col-4">
                    <span>Establecimiento Destino de la Referencia: </span>
                </div>
                <div class="col-8">
                    <input class="w-full" formControlName="destino" type="text" pInputText placeholder="Destino">
                </div>
            </div>
        </div>
    </p-fieldset>
    <p-fieldset legend="Identificacion del Usuario" [toggleable]="true">
        <div class="flex justify-content-center col" style="padding:0; margin: 0">
            <div class="col-3">
                <span>Codigo SIS: {{sis}}</span>
            </div>
            <div class="col-3">
                <span>Historia Clinica: {{historia}}</span>
            </div>
            <div class="col-3">
                <span>Edad: {{edad}}</span>
            </div>
        </div>
        <div class="col flex align-items-center" style="padding:0; margin: 0">
            <div class="col-10 align-items-center flex">
                <span>Nombres y Apellidos:</span>
                <div class="col-10">
                    <input type="text" class="w-full" pInputText formControlName="nombre">
                </div>
            </div>
            <div class="flex align-items-center col-2 justify-content-end">
                <span>Sexo:</span>
                <div class="col-7 ">
                    <p-selectButton [options]="sexOptions"
                                    class="inputfield w-full justify-content-end"
                                    optionLabel="label"
                                    formControlName="presentSigns"
                                    optionValue="value">
                    </p-selectButton>
                </div>
            </div>
        </div>
        <div class="col flex align-items-center" style="padding:0; margin: 0">
            <div class="col-6 align-items-center flex">
                <span>Dirección:</span>
                <div class="col-10">
                    <input type="text" class="w-full" pInputText formControlName="nombre">
                </div>
            </div>
            <div class="col-3 align-items-center flex">
                <span>Distrito:</span>
                <div class="col-8">
                    <input type="text" class="w-full" pInputText formControlName="nombre">
                </div>
            </div>
            <div class="col-3 align-items-center flex">
                <span>Departamento:</span>
                <div class="col-8">
                    <input type="text" class="w-full" pInputText formControlName="nombre">
                </div>
            </div>
        </div>
    </p-fieldset>
    <p-fieldset legend="Resumen de Historia Clinica" [toggleable]="true">
        <p-tabView>
            <p-tabPanel header="ANAMNESIS" leftIcon="pi pi-calendar">

            </p-tabPanel>
            <p-tabPanel header="EXAMEN FISICO" leftIcon="pi pi-calendar">
                <form [formGroup]="examFG">
                    <div class="grid">
                        <div class="col-12 md:col-12 justify-content-center">
                            <div class="grid align-items-center">
                                <ng-container *ngFor="let controlFC of dataExamFisicos">
                                    <div class="col-6 md:col-1 text-right">
                                        {{controlFC.label}}
                                    </div>
                                    <div class="col-6 md:col-3">
                                        <ng-container
                                                *ngIf="(controlFC.nameFC === 'TallaFC' || controlFC.nameFC === 'PesoFC'); else otros">
                                            <input (ngModelChange)="imc()" type="number" pInputText
                                                   [formControlName]="controlFC.nameFC"
                                                   class="inputfield w-full text-center"
                                            />
                                        </ng-container>
                                        <ng-template #otros>
                                            <input maxlength="6" type="number" pInputText
                                                   [formControlName]="controlFC.nameFC"
                                                   class="inputfield w-full text-center"/>
                                        </ng-template>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <p-divider></p-divider>
                    <label>Observaciones de Signos Vitales:</label>
                    <textarea class="inputfield w-full mb-2" formControlName="detailFC" pInputTextarea></textarea>
                </form>
            </p-tabPanel>
            <p-tabPanel header="EXAMENES AUXILIARES" leftIcon="pi pi-calendar">

            </p-tabPanel>
            <p-tabPanel header="DIAGNÓSTICO" leftIcon="pi pi-calendar">

            </p-tabPanel>
            <p-tabPanel header="TRATAMIENTO" leftIcon="pi pi-calendar">

            </p-tabPanel>
        </p-tabView>
    </p-fieldset>
    <p-fieldset legend="Datos de Referencia" [toggleable]="true">
        <div class="col flex align-items-center justify-content-center" style="padding:0; margin: 0">
            <span>Referencia:</span>
            <div class="col-3">
                <p-dropdown
                        class="w-full"
                        [autoDisplayFirst]="false"
                        [options]="Destino"
                        formControlName="quien"
                        optionValue="code"
                        optionLabel="name">
                </p-dropdown>
            </div>
        </div>
        <div class="col flex" style="padding:0; margin: 0">
            <div class="col-8 flex align-items-center">
                <span>
                    Nombre de quien lo atenderá:
                </span>
                <div class="col-8 ml-4">
                    <input type="text" class="w-full" pInputText formControlName="nombreAtendera">
                </div>
            </div>
            <div class="col-4 flex align-items-center">
                <span>
                    Fecha en que será atendido:
                </span>
                <div class="col-6">
                    <p-calendar [showIcon]="true" inputId="icon" placeholder="Fecha"
                                dateFormat="yy-mm-dd" formControlName="fechaAtencion"
                    ></p-calendar>
                </div>
            </div>
        </div>
        <div class="col flex" style="padding:0; margin: 0">
            <div class="col-8 flex align-items-center">
                <span>
                    Nombre con quien se coordino la atención:
                </span>
                <div class="col-7 justify-content-end">
                    <input type="text" class="w-full" pInputText formControlName="nombreCoordino">
                </div>
            </div>
            <div class="col-4 flex align-items-center">
                <span>
                    Hora en que será atendido:
                </span>
                <div class="col-6">
                    <p-calendar [timeOnly]="true"
                                class="text-center"
                                formControlName="hourAtencion"
                                inputId="timeonly">
                    </p-calendar>
                </div>
            </div>
        </div>
        <div class="col flex" style="padding:0; margin: 0">
            <div class="col-6 flex align-items-center">
                <span>Especialidad del destino:</span>
                <div class="col-8">
                    <p-dropdown
                            class="w-full"
                            [autoDisplayFirst]="false"
                            [options]="Destino"
                            formControlName="quien"
                            optionValue="code"
                            optionLabel="name">
                    </p-dropdown>
                </div>
            </div>
            <div class="col-6 flex align-items-center">
                <span>Condición del paciente al inicio del traslado:</span>
                <div class="col-5">
                    <p-dropdown
                            class="w-full"
                            [autoDisplayFirst]="false"
                            [options]="Destino"
                            formControlName="quien"
                            optionValue="code"
                            optionLabel="name">
                    </p-dropdown>
                </div>
            </div>
        </div>
    </p-fieldset>
</form>