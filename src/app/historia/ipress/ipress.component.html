<!--TABLA IPRESS-->
<div class="p-card">
    <p-toolbar styleClass="p-mb-4">

        <ng-template pTemplate="left">
            <h3 class="p-m-0">Lista de Instituciones Prestadoras de Servicios de Salud</h3>
        </ng-template>

        <ng-template pTemplate="right" class="button">
            <button pButton pRipple label="Nuevo" icon="pi pi-plus" class="p-button-danger p-mr-2"
                (click)="openNew()"></button>
            <button pButton pRipple label="Exportar" icon="pi pi-upload" class="p-button-primary"></button>
        </ng-template>

    </p-toolbar>
    <p-table [value]="data" #dt [globalFilterFields]="['nombres','nroDoc','apPaterno']"
        styleClass="p-datatable-gridlines" [rows]="10" [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true"
        [autoLayout]="true" currentPageReportTemplate="Mostrando {first} de {last} de {totalRecords} entradas">
        <ng-template pTemplate="caption">
            <div class="p-d-flex p-ai-center p-jc-between">
                <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="dt.filterGlobal($event.target.value,'contains')"
                        placeholder="Buscar..." />
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
            <tr>
                <th style="text-align: center">Nro</th>
                <th style="text-align: center">RENAES</th>
                <th style="text-align: center">Nombre EESS</th>
                <th style="text-align: center">Categoria</th>
                <th style="text-align: center">Ubigeo</th>
                <th style="text-align: center">Red</th>
                <th style="text-align: center">Micro Red</th>
                <th style="text-align: center">Encargados</th>
                <th style="text-align: center">Jurisdiccion</th>
                <th style="text-align: center">Ambientes</th>
                <th style="text-align: center">Turnos</th>
                <th style="text-align: center; width:120px">Acci√≥n</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
            <tr style="text-align: center">
                <td style="text-align: center">{{ rowIndex + 1 }}</td>
                <td style="text-align: center">{{ rowData.codRENAES }}</td>
                <td style="text-align: center">{{ rowData.nombreEESS}}</td>
                <td style="text-align: center">{{ rowData.categoria ? rowData.categoria.abreviatura : "" }}</td>
                <td style="text-align: center">{{ rowData.ubicacion ? rowData.ubicacion.ubigeo : ""}}</td>
                <td style="text-align: center">{{ rowData.red? rowData.red.nombreRed : ""}}</td>
                <td style="text-align: center">{{ rowData.red? rowData.red.nombreMicroRed : ""}}</td>
                <td style="text-align: center">
                    <button pButton pRipple icon="pi pi-users" class="p-button-rounded p-button-secondary"
                        (click)="newEncargado(rowData)"></button>
                </td>
                <td style="text-align: center">
                    <button pButton pRipple icon="pi pi-map-marker" class="p-button-rounded p-button-success"
                        (click)="newJurisdiccion(rowData)"></button>
                </td>
                <td style="text-align: center">
                    <button pButton pRipple icon="pi pi-sitemap" class="p-button-rounded p-button-warning"
                        (click)="newAmbiente(rowData)"></button>
                </td>
                <td style="text-align: center">
                    <button pButton pRipple icon="pi pi-briefcase" class="p-button-rounded p-button-help "
                        (click)="newTurno(rowData)"></button>
                </td>
                <td style="text-align: center; display: flex">
                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded m-1"
                        (click)="editar(rowData)"></button>
                    <button pButton (click)="eliminar(rowData)" pTooltip="Eliminar" pRipple type="button"
                        icon="pi pi-trash" class="p-button-rounded p-button-danger m-1">
                    </button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>


<!--IPRESS DIALOG-->
<p-dialog [(visible)]="ipressDialog" [style]="{width: '950px'}" [modal]="true" styleClass="p-fluid" autoZIndex>
    <ng-template pTemplate="header">
        <h3 class="m-0">{{titulo()}}</h3>
    </ng-template>

    <ng-template pTemplate="body">
        <form [formGroup]='form'>
            <div>
                <div class="grid">
                    <div class="p-field col-4">
                        <label>Cod. RENAES:</label>
                        <input type="text" pInputText formControlName='codRENAES' placeholder="RENAES">
                    </div>
                    <div class="p-field col-5">
                        <label>Nombre EESS:</label>
                        <input type="text" pInputText formControlName='nombreEESS' placeholder="EESS">
                    </div>
                    <div class="p-field col-3">
                        <label>Categoria:</label>
                        <p-dropdown *ngIf="!isUpdate" placeholder="Categoria IPRESS" class="inputRedondo"
                            [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                            [options]="categoriasList" formControlName="categoria" optionLabel="abreviatura" required>
                        </p-dropdown>
                        <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                            dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="categoriasList"
                            formControlName="categoria" optionLabel="abreviatura" required>
                        </p-dropdown>
                    </div>
                </div>
            </div>
            <p-divider align="left">
                <div class="p-d-inline-flex p-ai-center">
                    <i class="pi pi-angle-double-right p-mr-2"></i>
                    <b> Ubicacion</b>
                </div>
            </p-divider>
            <label>Ubigeo:</label>
            <div class="grid">
                <div class="p-inputgroup col-4">
                    <input type="text" class="inputRedondo" placeholder="Ubigeo" pInputText formControlName='ubigeo'
                        (blur)="buscarUbigeo()" required />
                    <button *ngIf="!loading" type="button" pButton pRipple icon="pi pi-search" (click)="buscarUbigeo()"
                        class="p-button-outlined p-button-secondary"></button>
                    <button *ngIf="loading" type="button" pButton pRipple icon="pi pi-spin pi-spinner"
                        (click)="buscarUbigeo()" class="p-button-outlined p-button-secondary"></button>
                </div>
            </div>
            <div class="grid">
                <div class="p-field col-4">
                    <label>Departamento:</label>
                    <p-dropdown *ngIf="!isUpdate" placeholder="Departamento" class="inputRedondo"
                        [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                        [options]="departamentosList" formControlName="departamento" optionLabel="departamento"
                        (onChange)="selectedDepartamento()" required>
                    </p-dropdown>
                    <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                        dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="departamentosList"
                        formControlName="departamento" optionLabel="departamento" (onChange)="selectedDepartamento()"
                        required>
                    </p-dropdown>
                </div>

                <div class="p-field col-4">
                    <label>Provincia:</label>
                    <p-dropdown *ngIf="!isUpdate" placeholder="Provincia" class="inputRedondo"
                        [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                        [options]="provinciasList" formControlName="provincia" optionLabel="provincia"
                        (onChange)="selectedProvincia()" required>
                    </p-dropdown>
                    <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                        dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="provinciasList"
                        formControlName="provincia" optionLabel="provincia" (onChange)="selectedProvincia()" required>
                    </p-dropdown>
                </div>
                <div class="p-field col-4">
                    <label>Distrito:</label>
                    <p-dropdown *ngIf="!isUpdate" placeholder="Distrito" class="inputRedondo"
                        [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                        [options]="distritosList" formControlName="distrito" optionLabel="distrito"
                        (onChange)="selectedDistrito()" required>
                    </p-dropdown>
                    <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                        dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="distritosList"
                        formControlName="distrito" optionLabel="distrito" (onChange)="selectedDistrito()" required>
                    </p-dropdown>
                </div>
            </div>
            <div class="grid">
                <div class="p-field col-4">
                    <label>Centro Poblado:</label>
                    <p-dropdown *ngIf="!isUpdate" placeholder="Centro Poblado" class="inputRedondo"
                        [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                        [options]="CCPPList" formControlName="centroPoblado" optionLabel="ccpp" [filter]="true"
                        filterBy="ccpp" required>
                    </p-dropdown>
                    <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                        dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="CCPPList"
                        formControlName="centroPoblado" optionLabel="ccpp" [filter]="true" filterBy="ccpp" required>
                    </p-dropdown>
                </div>
                <div class="p-field col-8">
                    <label>Direccion:</label>
                    <input type="text" pInputText formControlName='direccion' placeholder="Direccion de la IPRESS">
                </div>
            </div>
            <div class="grid">
                <div class="p-field col-5">
                    <p-divider align="left">
                        <div class="p-d-inline-flex p-ai-center">
                            <i class="pi pi-angle-double-right p-mr-2"></i>
                            <b>Red de Salud</b>
                        </div>
                    </p-divider>
                </div>
                <div class="p-field col-1"> </div>
                <div class="p-field col-5">
                    <p-divider align="left">
                        <div class="p-d-inline-flex p-ai-center">
                            <i class="pi pi-angle-double-right p-mr-2"></i>
                            <b>Encargado</b>
                        </div>
                    </p-divider>
                </div>
            </div>

            <div class="grid">
                <div class="p-field col-5">
                    <div class="col-12">
                        <label>Red:</label>
                        <p-dropdown *ngIf="!isUpdate" placeholder="Red de salud" class="inputRedondo"
                            [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                            [options]="redesList" formControlName="red" optionLabel="nombreRed"
                            (onChange)="changeRedSelected()" scrollHeight="100px" required>
                        </p-dropdown>
                        <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                            dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="redesList"
                            formControlName="red" optionLabel="nombreRed" (onChange)="changeRedSelected()"
                            scrollHeight="100px" required>
                        </p-dropdown>
                    </div>
                    <div class="col-12">
                        <label>MicroRed:</label>
                        <p-dropdown *ngIf="!isUpdate" placeholder="Micro Red de salud" class="inputRedondo"
                            [showTransitionOptions]="'300ms'" dropdownIcon="pi pi-chevron-down" inputId="dropdown"
                            [options]="microRedesList" formControlName="microRed" optionLabel="nombreMicroRed"
                            scrollHeight="100px" required>
                        </p-dropdown>
                        <p-dropdown *ngIf="isUpdate" class="inputRedondo" [showTransitionOptions]="'300ms'"
                            dropdownIcon="pi pi-chevron-down" inputId="dropdown" [options]="microRedesList"
                            formControlName="microRed" optionLabel="nombreMicroRed" scrollHeight="100px" required>
                        </p-dropdown>
                    </div>

                </div>
                <div class="p-field col-1">
                    <p-divider layout="vertical"></p-divider>
                </div>
                <div class="p-field col-5">
                    <div class="col-13 py-2">
                        <label> Documento Personal:</label>
                        <div class="grid">
                            <div class="p-inputgroup col-12">
                                <input type="text" class="inputRedondo" placeholder="Documento" pInputText
                                    formControlName='docPersonal' required />
                                <button *ngIf="!loading" type="button" pButton pRipple icon="pi pi-search"
                                    class="p-button-outlined p-button-secondary"></button>
                                <button *ngIf="loading" type="button" pButton pRipple icon="pi pi-spin pi-spinner"
                                    class="p-button-outlined p-button-secondary"></button>
                            </div>
                        </div>

                    </div>
                    <div class="col-12 p-2">
                        <div class="grid">
                            <label>Nombres y Apellidos:</label>
                            <input type="text" pInputText formControlName='nombrePersonal'
                                placeholder="Nombre del Personal">
                        </div>
                    </div>

                </div>
            </div>
        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Cancelar" class="p-button-danger" (click)="canceled()"></button>
        <button *ngIf="!isUpdate" pButton type="button" label="Guardar" (click)="saveForm()"></button>
        <button *ngIf="isUpdate" pButton type="button" label="Guardar" (click)="editarDatos()"></button>
    </ng-template>
</p-dialog>

<!--ENCARGADO DIALOG-->
<p-dialog [(visible)]="encargadoDialog" [style]="{width: '1200px'}" [modal]="true" styleClass="p-fluid " autoZIndex>

    <ng-template pTemplate="body">
        <div class="grid">
            <div class="col-4 mt-2">
                <p-card class="m-0 ">
                    <h2>{{tituloEncargado()}}</h2>
                    <form [formGroup]='formEncargado'>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="nombre">ID Personal:</label>
                                <input type="text" pInputText formControlName='idPersonal' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="nroEspe">Apellidos y Nombres:</label>
                                <input type="text" pInputText formControlName='nombre' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="nroEspe">Fecha Asignacion:</label>
                                <input type="text" pInputText formControlName='nombre' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label>Estado:</label>
                                <p-selectButton [options]="stateOptions" formControlName="estado" optionLabel="label"
                                    optionValue="value"></p-selectButton>
                            </div>
                        </div>
                    </form>
                    <br />
                    <div class="flex justify-content-end">
                        <button *ngIf="!isUpdateEncargado" [disabled]="!formEncargado.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveEncargado()"></button>
                        <button *ngIf="isUpdateEncargado" [disabled]="!formEncargado.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveEdicionEncargado()"></button>
                        <button pButton type="button" label="Nuevo" icon="pi pi-plus" (click)="guardarNuevoEncargado()"
                            pTooltip="Agregar encargado" tooltipPosition="right" class="p-button-danger m-1 w-9rem"
                            pRipple></button>
                    </div>

                </p-card>
            </div>
            <div class="col-8">
                <p-table [value]="encargados" #dt styleClass="p-datatable-gridlines" [rows]="10"
                    [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [autoLayout]="true"
                    currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} entradas"
                    [showCurrentPageReport]="true">
                    <ng-template pTemplate="caption">
                        <div class="flex justify-content-between">
                            <h3>Lista de Encargados de la IPRESS</h3>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
                        <tr>
                            <th style="text-align: center">Nro</th>
                            <th style="text-align: center">Nombre</th>
                            <th style="text-align: center">Fecha Asignaci√≥n</th>
                            <th style="text-align: center; width:8rem">Estado</th>
                            <th style="text-align: center; width:8rem">Acci√≥n</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr style="text-align: center">
                            <td style="text-align: center">{{ rowIndex + 1 }}</td>
                            <td style="text-align: center">{{ rowData.nombre }}</td>
                            <td style="text-align: center">{{ rowData.fechaAsignacion }}</td>
                            <td style="text-align: center">
                                <p-tag *ngIf="rowData.estado" styleClass="p-mr-2" severity="success" value="Activo"
                                    [rounded]="true"></p-tag>
                                <p-tag *ngIf="!rowData.estado" styleClass="p-mr-2" severity="danger" value="Inactivo"
                                    [rounded]="true"></p-tag>
                            </td>
                            <td>
                                <button pButton (click)="editarEncargado(rowData)" pTooltip="Editar" pRipple
                                    type="button" icon="pi pi-pencil" class="p-button-rounded m-1">
                                </button>
                                <button pButton (click)="eliminarEncargado(rowData)" pTooltip="Eliminar" pRipple
                                    type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger m-1">
                                </button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Salir" class="m-1 w-5rem" (click)="close()"></button>
    </ng-template>
</p-dialog>
<!--JURISDICCION DIALOG-->
<p-dialog [(visible)]="jurisdiccionDialog" [style]="{width: '1200px'}" [modal]="true" styleClass="p-fluid " autoZIndex>

    <ng-template pTemplate="body">
        <div class="grid">
            <div class="col-4 mt-2">
                <p-card class="m-0 ">
                    <h2>{{tituloJurisdiccion()}}</h2>
                    <form [formGroup]='formJurisdiccion'>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="ubigeo">Ubigeo:</label>
                                <input type="text" pInputText formControlName='ubigeo' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="departamento">Departamento:</label>
                                <input type="text" pInputText formControlName='departamento' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="provincia">Provincia:</label>
                                <input type="text" pInputText formControlName='provincia' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="distrito">Distrito:</label>
                                <input type="text" pInputText formControlName='distrito' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="cpp">Centro Poblado:</label>
                                <input type="text" pInputText formControlName='centroPoblado' required />
                            </div>
                        </div>
                    </form>
                    <br />
                    <div class="flex justify-content-end">
                        <button *ngIf="!isUpdateJurisdiccion" [disabled]="!formJurisdiccion.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveJurisdiccion()"></button>
                        <button *ngIf="isUpdateJurisdiccion" [disabled]="!formJurisdiccion.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveEdicionJurisdiccion()"></button>
                        <button pButton type="button" label="Nuevo" icon="pi pi-plus"
                            (click)="guardarNuevaJurisdiccion()" pTooltip="Agregar jurisdiccion" tooltipPosition="right"
                            class="p-button-danger m-1 w-9rem" pRipple></button>
                    </div>

                </p-card>
            </div>
            <div class="col-8">
                <p-table [value]="jurisdicciones" #dt styleClass="p-datatable-gridlines" [rows]="10"
                    [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [autoLayout]="true"
                    currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} entradas"
                    [showCurrentPageReport]="true">
                    <ng-template pTemplate="caption">
                        <div class="flex justify-content-between">
                            <h3>Lista de Jurisdicciones de la IPRESS</h3>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
                        <tr>
                            <th style="text-align: center">Nro</th>
                            <th style="text-align: center">Ubigeo</th>
                            <th style="text-align: center">Departamento</th>
                            <th style="text-align: center">Provincia</th>
                            <th style="text-align: center">Distrito</th>
                            <th style="text-align: center">Centro Poblado</th>
                            <th style="text-align: center; width:8rem">Acci√≥n</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr style="text-align: center">
                            <td style="text-align: center">{{ rowIndex + 1 }}</td>
                            <td style="text-align: center">{{ rowData.ubigeo }}</td>
                            <td style="text-align: center">{{ rowData.departamento }}</td>
                            <td style="text-align: center">{{ rowData.provincia }}</td>
                            <td style="text-align: center">{{ rowData.distrito }}</td>
                            <td style="text-align: center">{{ rowData.centroPoblado }}</td>
                            <td>
                                <button pButton (click)="editarEncargado(rowData)" pTooltip="Editar" pRipple
                                    type="button" icon="pi pi-pencil" class="p-button-rounded m-1">
                                </button>
                                <button pButton (click)="eliminarEncargado(rowData)" pTooltip="Eliminar" pRipple
                                    type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger m-1">
                                </button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Salir" class="m-1 w-5rem" (click)="close()"></button>
    </ng-template>
</p-dialog>
<!--AMBIENTES DIALOG-->
<p-dialog [(visible)]="ambienteDialog" [style]="{width: '1200px'}" [modal]="true" styleClass="p-fluid " autoZIndex>

    <ng-template pTemplate="body">
        <div class="grid">
            <div class="col-4 mt-2">
                <p-card class="m-0 ">
                    <h2>{{tituloAmbiente()}}</h2>
                    <form [formGroup]='formAmbiente'>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="codAmbiente">Codigo Ambiente:</label>
                                <input type="text" pInputText formControlName='codAmbiente' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="ambiente">Ambiente:</label>
                                <input type="text" pInputText formControlName='ambiente' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="nombreUPS">Nombre UPS:</label>
                                <input type="text" pInputText formControlName='nombreUPS' required />
                            </div>
                        </div>
                    </form>
                    <br />
                    <div class="flex justify-content-end">
                        <button *ngIf="!isUpdateAmbiente" [disabled]="!formAmbiente.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveAmbiente()"></button>
                        <button *ngIf="isUpdateAmbiente" [disabled]="!formAmbiente.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveAmbiente()"></button>
                        <button pButton type="button" label="Nuevo" icon="pi pi-plus" (click)="guardarNuevoAmbiente()"
                            pTooltip="Agregar ambiente" tooltipPosition="right" class="p-button-danger m-1 w-9rem"
                            pRipple></button>
                    </div>

                </p-card>
            </div>
            <div class="col-8">
                <p-table [value]="ambientes" #dt styleClass="p-datatable-gridlines" [rows]="10"
                    [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [autoLayout]="true"
                    currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} entradas"
                    [showCurrentPageReport]="true">
                    <ng-template pTemplate="caption">
                        <div class="flex justify-content-between">
                            <h3>Lista de Ambientes de la IPRESS</h3>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
                        <tr>
                            <th style="text-align: center">Nro</th>
                            <th style="text-align: center">Codigo Ambiente</th>
                            <th style="text-align: center">Ambiente</th>
                            <th style="text-align: center">Nombre UPS</th>
                            <th style="text-align: center; width:8rem">Acci√≥n</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr style="text-align: center">
                            <td style="text-align: center">{{ rowIndex + 1 }}</td>
                            <td style="text-align: center">{{ rowData.codAmbiente }}</td>
                            <td style="text-align: center">{{ rowData.ambiente }}</td>
                            <td style="text-align: center">{{ rowData.nombreUPS }}</td>
                            <td>
                                <button pButton (click)="editarAmbiente(rowData)" pTooltip="Editar" pRipple
                                    type="button" icon="pi pi-pencil" class="p-button-rounded m-1">
                                </button>
                                <button pButton (click)="eliminarAmbiente(rowData)" pTooltip="Eliminar" pRipple
                                    type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger m-1">
                                </button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Salir" class="m-1 w-5rem" (click)="close()"></button>
    </ng-template>
</p-dialog>
<!--TURNOS DIALOG-->
<p-dialog [(visible)]="turnoDialog" [style]="{width: '1200px'}" [modal]="true" styleClass="p-fluid " autoZIndex>

    <ng-template pTemplate="body">
        <div class="grid">
            <div class="col-4 mt-2">
                <p-card class="m-0 ">
                    <h2>{{tituloTurno()}}</h2>
                    <form [formGroup]='formTurno'>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="turno">Turno:</label>
                                <input type="text" pInputText formControlName='nombre' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="nroHoras">Nro Horas:</label>
                                <input type="text" pInputText formControlName='nroHoras' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="horaInicio">Hora Inicio:</label>
                                <input type="text" pInputText formControlName='horaInicio' required />
                            </div>
                        </div>
                        <div class="p-fluid grid flex justify-content-center">
                            <div class="p-field col-12 md:col-12">
                                <label id="horaFin">Hora Fin:</label>
                                <input type="text" pInputText formControlName='horaFin' required />
                            </div>
                        </div>
                    </form>
                    <br />
                    <div class="flex justify-content-end">
                        <button *ngIf="!isUpdateTurno" [disabled]="!formTurno.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveTurno()"></button>
                        <button *ngIf="isUpdateTurno" [disabled]="!formTurno.valid" pButton type="button"
                            label="Guardar" class="m-1 w-9rem" (click)="saveEdicionTurno()"></button>
                        <button pButton type="button" label="Nuevo" icon="pi pi-plus" (click)="guardarNuevoTurno()"
                            pTooltip="Agregar turno" tooltipPosition="right" class="p-button-danger m-1 w-9rem"
                            pRipple></button>
                    </div>

                </p-card>
            </div>
            <div class="col-8">
                <p-table [value]="turnos" #dt styleClass="p-datatable-gridlines" [rows]="10"
                    [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [autoLayout]="true"
                    currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} entradas"
                    [showCurrentPageReport]="true">
                    <ng-template pTemplate="caption">
                        <div class="flex justify-content-between">
                            <h3>Lista de Turnos de la IPRESS</h3>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" styleClass="p-datatable-gridlines">
                        <tr>
                            <th style="text-align: center">Nro</th>
                            <th style="text-align: center">Nombre</th>
                            <th style="text-align: center">Abreviatura </th>
                            <th style="text-align: center">Nro Horas</th>
                            <th style="text-align: center">Hora Inicio</th>
                            <th style="text-align: center">Hora Fin</th>
                            <th style="text-align: center; width:8rem">Acci√≥n</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr style="text-align: center">
                            <td style="text-align: center">{{ rowIndex + 1 }}</td>
                            <td style="text-align: center">{{ rowData.nombre }}</td>
                            <td style="text-align: center">{{ rowData.abreviatura }}</td>
                            <td style="text-align: center">{{ rowData.nroHoras }}</td>
                            <td style="text-align: center">{{ rowData.horaInicio }}</td>
                            <td style="text-align: center">{{ rowData.horaFin }}</td>
                            <td>
                                <button pButton (click)="editarTurno(rowData)" pTooltip="Editar" pRipple type="button"
                                    icon="pi pi-pencil" class="p-button-rounded m-1">
                                </button>
                                <button pButton (click)="eliminarTurno(rowData)" pTooltip="Eliminar" pRipple
                                    type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger m-1">
                                </button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton type="button" label="Salir" class="m-1 w-5rem" (click)="close()"></button>
    </ng-template>
</p-dialog>